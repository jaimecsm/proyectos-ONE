<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Encriptador</title>
    <link rel="stylesheet" href="style.css">
</head>

<body class="principal">
    <header class="titulo-header">
        <img src="imagenes/encriptador.jfif" alt="logo referencia a encriptacion">
        <h1>Encriptador de Texto</h1>
    </header>
    <main>
        <div>
            <h2 class="encdes">Encriptar/Desencriptar</h2>
            <h2 class="enc">Resultado</h2>
            <textarea cols="70" rows="10" class="texto" id="texto" placeholder="Ingrese el texto aquí" autofocus></textarea>
            <textarea cols="70" rows="10" id="resultado" readonly></textarea>
        </div>

        <input type="submit" value="Encriptar" class="encriptar" id="Encriptar">
        <input type="submit" value="Desencriptar" class="desencriptar" id="Desencriptar">
        <input type="submit" value="limpiar" class="limpiar" id="Limpiar">
        <input type="submit" value="copiar" class="copiar" id="Copiar">

    </main>
    <footer>
        <p class="derecho-autor">&copy Copyright Jaime Contreras San Martín</p>
    </footer>
</body>

<script>    

    function encriptar(){
       var txtEncriptar,txtCifrado;
       txtEncriptar = document.getElementById("texto").value;
       if(txtEncriptar != ""){
        txtCifrado = txtEncriptar.replace(/e/img,"enter");
        txtCifrado = txtCifrado.replace(/o/img,"ober");
        txtCifrado = txtCifrado.replace(/i/img,"imes");
        txtCifrado = txtCifrado.replace(/a/img,"ai");
        txtCifrado = txtCifrado.replace(/u/img,"ufat");

        document.getElementById("resultado").value = txtCifrado;
        mostrar();
       }else{
        alert("Debe ingresar un texto a encriptar");
       }
       document.getElementById("texto").focus();
    }

    function desencriptar(){
       var txtDesencriptar,txtDecifrado;       
       txtDesencriptar = document.getElementById("texto").value;

        if((txtDesencriptar != "") && (document.getElementById("resultado").value != "")){
            txtDecifrado = txtDesencriptar.replace(/enter/img,"e");
            txtDecifrado = txtDecifrado.replace(/ober/img,"o");
            txtDecifrado = txtDecifrado.replace(/imes/img,"i");
            txtDecifrado = txtDecifrado.replace(/ai/img,"a");
            txtDecifrado = txtDecifrado.replace(/ufat/img,"u"); 
            console.log("entro");
            document.getElementById("resultado").value = txtDecifrado;
        }else{
            alert("Debe ingresar un texto a desencriptar");
        }  
        ocultar();
        document.getElementById("texto").focus();
    }
 
    function mostrar(){
        document.getElementById("Copiar").style.display = "inline";
    }

    function ocultar(){
        document.getElementById("Copiar").style.display = "none";
    }
    
    function limpiar(){
        document.getElementById("texto").value = "";
        document.getElementById("resultado").value = "";
        ocultar();
        document.getElementById("texto").focus();
    }

    function copiar(){
        document.getElementById("texto").value = "";
        var aux = document.createElement("input");
        aux.setAttribute("value", document.getElementById("resultado").value);
        document.body.appendChild(aux);
        aux.select();
        document.execCommand("copy");
        document.body.removeChild(aux);
    }


    var botonEnc = document.getElementById("Encriptar");
    botonEnc.onclick = encriptar;
  
    var botonDesc = document.getElementById("Desencriptar");
    botonDesc.onclick = desencriptar;
    
    var botonLimpiar = document.getElementById("Limpiar");
    botonLimpiar.onclick = limpiar;

    var botonCopiar = document.getElementById("Copiar");
    botonCopiar.onclick = copiar;
    
</script>
</html>